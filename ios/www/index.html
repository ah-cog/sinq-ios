<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"> 

    <!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <script charset="utf-8" src="./assets/js/cordova-2.1.0.js"></script>

    <link rel="stylesheet" href="./assets/css/jquery.isotope.min.css" />

    <script src="./assets/js/jquery-1.8.2.min.js"></script>
    <script src="./assets/js/json2.js"></script>

    <link rel="stylesheet" href="./assets/css/jquery.mobile-1.2.0.min.css" />
    <script src="./assets/js/jquery.mobile-1.2.0.min.js"></script>

    <script src="./assets/js/jquery.isotope.min.js"></script>

    <link rel="stylesheet" href="./assets/css/iscroll-lite.css" />

    <link rel="stylesheet" href="./assets/css/sinq.css" />

    <script src="./assets/js/sinq.js"></script>

    <link href='http://fonts.googleapis.com/css?family=Poiret+One|Quicksand|Josefin+Sans:100,400|Raleway+Dots|Raleway:400,100|Press+Start+2P' rel='stylesheet' type='text/css'>

    <!-- scripts at bottom of page -->

    <style>
        .ui-page { background: #fbfbfb;}
        body { background-color: #fbfbfb; }
    </style>
</head>
<body class="homepage">

    <div data-role="page" id="dashboard">

        <script type="text/javascript" charset="utf-8">
            
            $("#dashboard").bind("pageshow", function() {

                $("#container").isotope( 'remove', $('#container').find('.element'));

                // Load questions and hypotheses from server
                getQuestions();
                getHypotheses();
            });
            
        </script>




        <a id='lnkDialog' href="#question_view" data-rel="dialog" data-transition="pop" style='display:none;'></a>




        <div data-role="header" style="position: fixed; z-index: 2147483647; width: 100%;">
            <div id="banner" style="width: 100%; background-color: #ffffff; padding-top: 10px; padding-bottom: 10px;">
                <img id="dashboard_header_logo" src="./assets/img/sinq_logo.png" />
            </div>

            <div id="banner" style="width: 100%; background-color: #ffffff; padding-top: 0px; padding-bottom: 10px; border-bottom: 1px solid #2f5b7f;">
                <center>
                    <ul id="navigation">
                        <li><a id="dashboard_header_question" href="javascript:void(0);">Question</a></li>
                        <li><a id="dashboard_header_causeandeffect" href="javascript:void(0);">Cause and Effect</a></li>
                        <li><a id="dashboard_header_investigation" href="javascript:void(0);">Investigation</a></li>
                    </ul>
                </center>
            </div>

            <!-- <li id="toggle-sizes"><a href="#toggle-sizes">Toggle Thought List View</a></li> -->

        </div><!-- /header -->




        <div data-role="content" style="margin-top: 130px;">
            <div id="options" class="clearfix">
                <div class="option-combo">
                <h2>Show:</h2>
                <ul id="filter" class="option-set clearfix" data-option-key="filter">
                    <li><a href="#show-all" data-option-value="*" class="selected">Everything</a></li>
                    <li><a href="#questions" data-option-value=".question">Questions</a></li>
                    <li><a href="#causeandeffects" data-option-value=".causeandeffect">Cause and Effect</a></li>
                    <li><a href="#investigations" data-option-value=".investigation">Investigation</a></li>
                    <!-- 
                    TODO:
                    - Add filters for "my stuff", "everyone else's stuff"
                    -->
                </ul>
                </div>
                <div class="option-combo">
                    <h2>Order:</h2>
                    <ul id="sort" class="option-set clearfix" data-option-key="sortBy">
                        <li><a href="#mixed" data-option-value="number" class="selected">Mixed</a></li>
                        <li><a href="#original" data-option-value="original-order">Original</a></li>
                        <li><a href="#alphabetical" data-option-value="alphabetical">ABC</a></li>
                        <!-- 
                        TODO:
                        - Add options to sort by datetime created, datetime last modified, highest rated, most popular
                        -->
                    </ul>
                </div>
                <div class="option-combo">
                    <h2>Layout: </h2>
                    <ul id="layouts" class="option-set clearfix" data-option-key="layoutMode">
                        <li><a href="#masonry" data-option-value="masonry" class="selected">Many</a></li>
                        <li><a href="#fitRows" data-option-value="fitRows">Fit Rows</a></li>
                        <li><a href="#straightDown" data-option-value="straightDown">List</a></li>
                        <li><a href="#straightAcross" data-option-value="straightAcross">List</a></li>
                    </ul>
                </div>
            </div>

            <div id="selected-question-element" data-role="none" class="selected-element">
                <h1>Question</h1>
                <p id="selected-question-text"></p>

                <div class="scroller">
                    <div id="question-horizontalWrapper">
                        <div id="question-horizontalScroller">
                            <ul>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                            </ul>
                        </div>
                    </div>
                </div>


                <div id="selected-question-options">
                    <img id="selected-question-add-photo" src="./assets/img/noun_project_781.svg" height="30" /> 
                    <a id="selected-question-add-causeandeffect"><img src="./assets/img/noun_project_712.svg" height="30" /></a>
                    <a id="selected-question-add-investigation"><img id="selected-question-add-investigation" src="./assets/img/noun_project_95.svg" height="30" /></a>
                     | 
                    <a id="selected-question-add-investigation"><img id="selected-question-add-investigation" src="./assets/img/noun_project_1521.svg" height="30" /></a>
                </div>
            </div>

            <div id="create-question-section" data-role="none" class="create-element-section">
                <h1>What do you wonder about?</h1>

                <form onsubmit="return addQuestion(); return false;">
                <!-- <form action="/sinq/questions/create/" method="post"> -->

                    <div data-role="fieldcontain">
                    <h2>1. Take a photo.</h2>
                    <p><a href="javascript:void(0);" data-theme="a" id="question_snap_photo" onclick="capturePhotoToURI();" data-role="button">Snap a photo!</a></p>
                    <img style="display: none; width: 200px; height: 200px;" id="photo_preview" src="" />
                    </div>
                    
                    <div data-role="fieldcontain" class="ui-hide-label">
                        <h2>2. What do you wonder about</h2>
                        <label for="question_text">Type your question below:</label>
                        <input id="question_text" name="question_text" type="text" placeholder="Touch here to type your question" />
                    </div>

                    <h2>3. Click the <strong>Done</strong> button.</h2>
                    <p><input type="submit" value="Done" /></p>

                </form>
            </div>



            <div id="create-causeandeffect-section" data-role="none" class="create-element-section">
                <h1>Create Cause and Effect</h1>

                <h2 id="question_text"></h2>

                <div id="question_images">
                </div>

                <form onsubmit="return addHypothesis(); return false;">
                <!-- <form action="/sinq/questions/create/" method="post"> -->

                    <input id="question_id" name="question_id" type="hidden" value="" />
                    
                    <!-- <label for="question_text">What do you wonder about?</label> -->
                    <h2>1. What's the cause?</h2>
                    <input id="cause_text" name="cause_text" type="text" />

                    <h2>2. What's the effect?</h2>
                    <input id="effect_text" name="effect_text" type="text" />

                    <h2>3. Take a photo!</h2>
                    <p><a href="javascript:void(0);" data-theme="a" id="effect_snap_photo" onclick="capturePhotoToURI();" data-role="button">Snap a photo!</a></p>
                    <img style="display: none; width: 200px; height: 200px;" id="photo_preview" src="" />

                    <h2>3. Click the <strong>Done</strong> button.</h2>
                    <p><input type="submit" value="Done" /></p>

                </form>
            </div>

            <div id="selected-causeandeffect-element" class="selected-element">
                <h1>Cause and Effect</h1>
                <h2 id="selected-causeandeffect-cause"></h2>
                <h2 id="selected-causeandeffect-effect"></h2>

                <div class="scroller">
                    <div id="causeandeffect-horizontalWrapper">
                        <div id="causeandeffect-horizontalScroller">
                            <ul>
                                <li><img src="http://placehold.it/200x200" alt="Cause and Effect Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Cause and Effect Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                                <li><img src="http://placehold.it/200x200" alt="Question Image" /></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="selected-causeandeffect-options">
                    <img id="selected-causeandeffect-add-photo" src="./assets/img/noun_project_781.svg" height="30" /> 
                    <a id="selected-causeandeffect-add-question"><img src="./assets/img/noun_project_2036.svg" height="30" /></a>
                    <a id="selected-causeandeffect-add-investigation"><img id="selected-causeandeffect-add-investigation" src="./assets/img/noun_project_95.svg" height="30" /></a>
                     | 
                    <a id="selected-causeandeffect-add-investigation"><img id="selected-causeandeffect-add-investigation" src="./assets/img/noun_project_1521.svg" height="30" /></a>
                </div>
            </div>



            <div id="create-investigation-section" data-role="none" class="create-element-section">
                <h1>Create Investigation</h1>
            </div>

            <div id="selected-investigation-element" class="selected-element">
                <h1>Investigation</h1>
            </div>


  
            <div id="container" class="super-list variable-sizes clearfix">
                <!--
                Example use of Isotope:

                <div class="element alkaline-earth metal   " data-symbol="Mg" data-category="alkaline-earth">
                <p class="number">12</p>
                <h3 class="symbol">Mg</h3>
                <h2 class="name">Magnesium</h2>
                <p class="weight">24.305</p>
                </div>

                <div class="link" data-number="5"><a href="jquery.isotope.min.js">Down&#8203;load jquery&#8203;.isotope&#8203;.min.js</a></div>
                <div class="link" data-number="13"><a href="http://meta.metafizzy.co/files/isotope-site.zip">Down&#8203;load this project</a></div> 
                <div class="link away" data-number="35"><a href="http://github.com/desandro/isotope">Isotope on GitHub</a></div>
                -->
            </div>
        </div><!-- /content -->



        <script src="./assets/js/iscroll-lite.js"></script>
        <script src="./assets/js/iscroll-lite-app.js"></script>


        <script type="text/javascript">
        $(function() {

            var $container = $('#container');

            $container.isotope({
                masonry: {
                    columnWidth: 120
                },
                sortBy: 'number',
                getSortData: {
                    number: function( $elem ) {
                        var number = $elem.hasClass('element') ? 
                            $elem.find('.number').text() :
                            $elem.attr('data-number');
                        return parseInt( number, 10 );
                    },
                    alphabetical: function( $elem ) {
                        var text = $elem.find('.text'),
                        itemText = name.length ? text : $elem;
                        return itemText.text();
                    }
                }
            });


            /**
             * Set up filtering and sorting option buttons
             */
            var $optionSets = $('#options .option-set'),
                $optionLinks = $optionSets.find('a');

            $optionLinks.click(function() {
                var $this = $(this);
                // don't proceed if already selected
                if ( $this.hasClass('selected') ) {
                    return false;
                }
                var $optionSet = $this.parents('.option-set');
                $optionSet.find('.selected').removeClass('selected');
                $this.addClass('selected');

                // make option object dynamically, i.e. { filter: '.my-filter-class' }
                var options = {},
                    key = $optionSet.attr('data-option-key'),
                    value = $this.attr('data-option-value');
                // parse 'false' as false boolean
                value = value === 'false' ? false : value;
                options[ key ] = value;
                if ( key === 'layoutMode' && typeof changeLayoutMode === 'function' ) {
                    // changes in layout modes need extra logic
                    changeLayoutMode( $this, options );
                } else {
                    // otherwise, apply new options
                    $container.isotope( options );
                }

                return false;
            });

            /**
             * Initialize JavaScript callbacks
             */

            $('#dashboard_header_logo').click(function() {
                hideSections();
                $('#container').slideDown('slow');
            });

            $('#dashboard_header_question').click(function() {
                hideSections();
                $('#create-question-section').slideDown('slow');
            });

            $('#dashboard_header_causeandeffect').click(function() {
                hideSections();
                $('#create-causeandeffect-section').slideDown('slow');
            });

            $('#dashboard_header_investigation').click(function() {
                hideSections();
                $('#create-investigation-section').slideDown('slow');
            });




            /**
             * Chosen question options
             */
            $('#selected-question-add-causeandeffect').click(function() {
                // Hide sections after question section
                $('#container').slideUp('slow');

                // $('#selected-question-element').slideUp('slow');
                $('#selected-causeandeffect-element').slideUp('slow');
                $('#selected-investigation-element').slideUp('slow');

                // $('#create-question-section').slideUp('slow');
                $('#create-causeandeffect-section').slideUp('slow');
                $('#create-investigation-section').slideUp('slow');

                // Open section
                $('#create-causeandeffect-section').slideDown('slow');
            });

            $('#selected-question-add-investigation').click(function() {
                // Hide sections after question section
                $('#container').slideUp('slow');

                // $('#selected-question-element').slideUp('slow');
                // $('#selected-causeandeffect-element').slideUp('slow');
                $('#selected-investigation-element').slideUp('slow');

                // $('#create-question-section').slideUp('slow');
                // $('#create-causeandeffect-section').slideUp('slow');
                $('#create-investigation-section').slideUp('slow');

                // Open section
                $('#create-investigation-section').slideDown('slow');
            });



            /**
             * Chosen cause-and-effect options
             */
            $('#selected-causeandeffect-add-question').click(function() {
                // Hide sections after question section
                $('#container').slideUp('slow');

                $('#selected-question-element').slideUp('slow');
                // $('#selected-causeandeffect-element').slideUp('slow');
                // $('#selected-investigation-element').slideUp('slow');

                $('#create-question-section').slideUp('slow');
                $('#create-causeandeffect-section').slideUp('slow');
                $('#create-investigation-section').slideUp('slow');

                // Open section
                $('#create-question-section').slideDown('slow');
            });

            $('#selected-causeandeffect-add-investigation').click(function() {
                // Hide sections after question section
                $('#container').slideUp('slow');

                // $('#selected-question-element').slideUp('slow');
                // $('#selected-causeandeffect-element').slideUp('slow');
                $('#selected-investigation-element').slideUp('slow');

                $('#create-question-section').slideUp('slow');
                $('#create-causeandeffect-section').slideUp('slow');
                $('#create-investigation-section').slideUp('slow');

                // Open section
                $('#create-investigation-section').slideDown('slow');
            });






            /**
             * Set up button to change size of items for vertical list
             */

            // Change size of clicked element
            // $container.delegate( '.element', 'click', function(){
            //     $(this).toggleClass('large');
            //     $container.isotope('reLayout');
            // });

            // Toggle variable sizes of all elements
            $('#toggle-sizes').find('a').click(function() {
                // Change layout mode
                var options = { layoutMode: 'straightDown' };
                $container.isotope( options );

                // Toggle sizes
                $container
                    .toggleClass('expanded-element')
                    .isotope('reLayout');
                return false;
            });




            iscroll_init();

        });
        </script>




        <div data-role="footer" style="position: fixed; z-index: 2147483646;">
            <h4>2011&ndash;2012.  Human-Computer Interaction Lab (HCIL). University of Maryand, College Park.</h4>
        </div><!-- /footer -->

    </div><!-- /page -->

</body>
</html>